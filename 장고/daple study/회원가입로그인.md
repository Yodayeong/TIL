## 회원가입/로그인



- AbstracUser 모델을 상속받고, 추가하고 싶은 필드도 더 추가

  ```python
  #accounts/models.py
  
  from django.db import models
  from django.contrib.auth.models import AbstractUser
  from phonenumber_field.modelfields import PhoneNumberField
  
  #Abstractuser를 상속받고
  class User(AbstractUser):
      #추가하고 싶은 field를 아래에 추가
      phone = PhoneNumberField(unique = True, null = False, blank = False, region="KR")
      nickname = models.CharField(max_length=50)
      profile_image = models.ImageField(upload_to='images/', blank=True)
  ```

  ```python
  #accounts/forms.py
  
  from .models import User
  from django.contrib.auth.forms import UserCreationForm
  
  #UserCreationForm을 상속받고
  class CustomUserCreationForm(UserCreationForm):
  
      class Meta:
          model = User
          #field들 입력
          fields = ('profile_image', 'nickname', 'username', 'password1', 'password2', 'email', 'phone')
          #field 이름을 바꿔주고 싶으면 label 써주기
          labels = {
              'profile_image': '프로필사진',
              'nickname': '이름',
              'username': '아이디',
              'password1': '비밀번호',
              'password2': '비밀번호확인',
              'email': '이메일주소',
              'phone': '휴대폰번호'
          }
  ```

  

- 이때, PhoneNumberField를 쓰고 싶으면

  ```bash
  pip install django-phonenumber-field[phonenumbers]
  pip install django-phonenumber-field[phonenumberslite]
  ```

  ```python
  #pjt/settings.py
  
  INSTALLED_APPS = [
      # Other apps
      "phonenumber_field",
  ]
  ```

  ```python
  #accounts/models.py
  
  from phonenumber_field.modelfields import PhoneNumberField
  
  class Person(models.Model):
      # Other fields
      phone = PhoneNumberField(unique = True, null = False, blank = False, region="KR")
  ```

  